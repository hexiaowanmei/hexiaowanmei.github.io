<!DOCTYPE HTML>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
	<link rel="bookmark" type="image/x-icon" href="/img/logo_miccall.png">
	<link rel="shortcut icon" href="/img/logo_miccall.png">
	
			    <title>
    何萧的专属栏
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="/css/mic_main.css">
    <link rel="stylesheet" href="/css/dropdownMenu.css">
    <meta name="keywords" content="miccall">
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css">
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
</head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css">
<link rel="stylesheet" href="/css/typo.css">
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">MICCALL</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special">
            <ul class="menu links">
			<!-- Homepage  主页  --> 
			<li>
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        
	                    </li></ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="简历">
		                简历
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="团队">
		                团队
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/miccall" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="500px" href="http://500px.com" target="_blank" rel="noopener">
                            <i class="icon fa fa-500px"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

        <div id="main">
            <div class="post_page_title_img" style="height: 25rem;background-image: url();background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2></h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <p>关系型数据概述</p>
<p>数据持久化。<br>数据库发展史。<br>关系型数据库特点。<br>理论基础：集合论和关系代数。<br>具体表象：用二维表（有行和列）组织数据。<br>编程语言：结构化查询语言（SQL）。<br>E-R图。<br>实体 - 矩形框<br>属性 - 椭圆框<br>关系 - 菱形框<br>重数 - 1:1 / 1:N / M:N<br>关系型数据库产品。<br>Oracle<br>DB2<br>SQL Server<br>MySQL<br>SQLite<br>MySQL简介</p>
<p>安装和配置。<br>常用命令。<br>SQL详解</p>
<p>DDL</p>
<p>– 创建数据库SRS<br>drop database if exists SRS;<br>create database SRS default charset utf8;</p>
<p>– 切换到SRS<br>use SRS;</p>
<p>– 创建学院表<br>create table tb_college<br>(<br>collid int not null auto_increment comment ‘学院编号’,<br>collname varchar(50) not null comment ‘学院名称’,<br>collmaster varchar(20) not null comment ‘院长姓名’,<br>collweb varchar(511) default ‘’ comment ‘学院网站’,<br>primary key (collid)<br>);</p>
<p>– 添加唯一性约束<br>alter table tb_college add constraint uni_college_collname unique (collname);<br>– alter table tb_college drop index uni_college_collname;</p>
<p>– 创建学生表<br>create table tb_student<br>(<br>stuid int not null comment ‘学号’,<br>stuname varchar(20) not null comment ‘学生姓名’,<br>stusex bit default 1 comment ‘性别’,<br>stubirth date not null comment ‘出生日期’,<br>stuaddr varchar(255) default ‘’ comment ‘籍贯’,<br>collid int not null comment ‘所属学院编号’,<br>primary key (stuid)<br>);</p>
<p>– 添加外键约束<br>alter table tb_student add constraint fk_student_collid foreign key (collid) references tb_college (collid);</p>
<p>– 创建教师表<br>create table tb_teacher<br>(<br>teacherid int not null comment ‘教师工号’,<br>tname varchar(20) not null comment ‘教师姓名’,<br>ttitle varchar(10) default ‘’ comment ‘职称’,<br>collid int not null comment ‘所属学院编号’<br>);</p>
<p>– 添加主键约束<br>alter table tb_teacher add constraint pk_teacher primary key (teacherid);</p>
<p>– 添加外键约束<br>alter table tb_teacher add constraint fk_teacher_collid foreign key (collid) references tb_college (collid);</p>
<p>– 创建课程表<br>create table tb_course<br>(<br>courseid int not null comment ‘课程编号’,<br>cname varchar(50) not null comment ‘课程名称’,<br>ccredit tinyint not null comment ‘学分’,<br>tid int not null comment ‘教师工号’,<br>primary key (courseid)<br>);</p>
<p>– 添加外键约束<br>alter table tb_course add constraint fk_course_tid foreign key (tid) references tb_teacher (teacherid);</p>
<p>– 创建学生选课表<br>create table tb_score<br>(<br>scid int not null auto_increment comment ‘选课编号’,<br>sid int not null comment ‘学号’,<br>cid int not null comment ‘课程编号’,<br>selectdate datetime comment ‘选课时间日期’,<br>score decimal(4,1) comment ‘考试成绩’,<br>primary key (scid)<br>);</p>
<p>– 添加检查约束(MySQL中检查约束不生效)<br>alter table tb_score add constraint ck_score_score check (score between 0 and 100);</p>
<p>– 添加外键约束<br>alter table tb_score add constraint fk_score_sid foreign key (sid) references tb_student (stuid);<br>alter table tb_score add constraint fk_score_cid foreign key (cid) references tb_course (courseid);<br>DML</p>
<p>– 插入学院数据<br>insert into tb_college<br>(collname, collmaster, collweb) values<br>(‘计算机学院’, ‘左冷禅’, ‘<a href="http://www.abc.com&#39;)" target="_blank" rel="noopener">http://www.abc.com&#39;)</a>,<br>(‘外国语学院’, ‘岳不群’, ‘<a href="http://www.xyz.com&#39;)" target="_blank" rel="noopener">http://www.xyz.com&#39;)</a>,<br>(‘经济管理学院’, ‘风清扬’, ‘<a href="http://www.foo.com&#39;)" target="_blank" rel="noopener">http://www.foo.com&#39;)</a>;</p>
<p>– 插入学生数据<br>insert into tb_student<br>(stuid, stuname, stusex, stubirth, stuaddr, collid) values<br>(1001, ‘向问天’, 1, ‘1990-3-4’, ‘四川成都’, 1),<br>(1002, ‘任我行’, 1, ‘1992-2-2’, ‘湖南长沙’, 1),<br>(1033, ‘任盈盈’, 0, ‘1989-12-3’, ‘湖南长沙’, 1),<br>(1572, ‘余沧海’, 1, ‘1993-7-19’, ‘四川成都’, 1),<br>(1378, ‘岳灵珊’, 0, ‘1995-8-12’, ‘四川绵阳’, 1),<br>(1954, ‘林平之’, 1, ‘1994-9-20’, ‘福建莆田’, 1),<br>(2035, ‘令狐冲’, 1, ‘1988-6-30’, ‘陕西咸阳’, 2),<br>(3011, ‘林震南’, 1, ‘1985-12-12’, ‘福建莆田’, 3),<br>(3755, ‘龙傲天’, 1, ‘1993-1-25’, ‘广东东莞’, 3),<br>(3923, ‘向天问’, 0, ‘1985-4-17’, ‘四川成都’, 3),<br>(2177, ‘隔壁老王’, 1, ‘1989-11-27’, ‘四川成都’, 2);</p>
<p>– 插入老师数据<br>insert into tb_teacher<br>(teacherid, tname, ttitle, collid) values<br>(1122, ‘张三丰’, ‘教授’, 1),<br>(1133, ‘宋远桥’, ‘副教授’, 1),<br>(1144, ‘杨逍’, ‘副教授’, 1),<br>(2255, ‘范遥’, ‘副教授’, 2),<br>(3366, ‘韦一笑’, ‘讲师’, 3);</p>
<p>– 插入课程数据<br>insert into tb_course<br>(courseid, cname, ccredit, tid) values<br>(1111, ‘Python程序设计’, 3, 1122),<br>(2222, ‘Web前端开发’, 2, 1122),<br>(3333, ‘操作系统’, 4, 1122),<br>(4444, ‘计算机网络’, 2, 1133),<br>(5555, ‘编译原理’, 4, 1144),<br>(6666, ‘算法和数据结构’, 3, 1144),<br>(7777, ‘经贸法语’, 3, 2255),<br>(8888, ‘成本会计’, 2, 3366),<br>(9999, ‘审计’, 3, 3366);</p>
<p>– 插入选课数据<br>insert into tb_score<br>(sid, cid, selectdate, score) values<br>(1001, 1111, now(), 95),<br>(1001, 2222, now(), 87.5),<br>(1001, 3333, now(), 100),<br>(1001, 4444, now(), null),<br>(1001, 6666, now(), 100),<br>(1002, 1111, now(), 65),<br>(1002, 5555, now(), 42),<br>(1033, 1111, now(), 92.5),<br>(1033, 4444, now(), 78),<br>(1033, 5555, now(), 82.5),<br>(1572, 1111, now(), 78),<br>(1378, 1111, now(), 82),<br>(1378, 7777, now(), 65.5),<br>(2035, 7777, now(), 88),<br>(2035, 9999, now(), 70),<br>(3755, 1111, now(), 72.5),<br>(3755, 8888, now(), 93),<br>(3755, 9999, now(), null);</p>
<p>– 删除数据<br>delete from tb_student where stuid=2177;</p>
<p>– 更新数据<br>update tb_score set score=null where sid=1002 and cid=1111;<br>DQL</p>
<p>– 查询所有学生信息<br>select * from tb_student;<br>select stuid, stuname, stusex, stubirth, stuaddr, collid<br>from tb_student;</p>
<p>– 查询所有课程名称及学分(投影和别名)<br>select cname as 课程名称, ccredit as 学分 from tb_course;</p>
<p>– 查询所有女学生的姓名和出生日期(筛选)<br>select stuname, stubirth from tb_student where stusex=0;</p>
<p>– 查询所有80后女学生的姓名、性别(显示成’女’)和出生日期(筛选)<br>select stuname, ‘女’ as stusex, stubirth from tb_student<br>where stubirth between ‘1980-1-1’ and ‘1989-12-31’ and stusex=0;</p>
<p>– 查询姓“林”的学生姓名和性别(模糊)<br>select stuname, if(stusex, ‘男’, ‘女’) as stusex<br>from tb_student where stuname like ‘林%’;</p>
<p>– 查询姓“张”名字总共两个字的老师的姓名和职称(模糊)<br>select tname from tb_teacher where tname like ‘张_’;</p>
<p>– 查询姓“张”名字总共三个字的老师的姓名和职称(模糊)<br>select tname, ttitle from tb_teacher where tname like ‘张__’;</p>
<p>– 查询名字中有“天”字的学生的姓名(模糊)<br>select stuname from tb_student where stuname like ‘%天%’;</p>
<p>– 查询学生的籍贯(去重)<br>select distinct stuaddr from tb_student<br>where stuaddr&lt;&gt;’’ and stuaddr is not null;</p>
<p>– 查询男学生的姓名和生日按年龄从大到小排列(排序)<br>select stuname, stubirth from tb_student<br>where stusex=1 order by stubirth asc;</p>
<p>– 查询年龄最大/最小的学生的出生日期(聚合函数)<br>select min(stubirth) from tb_student;<br>select max(stubirth) from tb_student;<br>– 查询学生/男学生/女学生的总人数<br>select count(stuid) from tb_student;<br>select count(stuid) from tb_student where stusex=1;<br>select count(stuid) from tb_student where stusex=0;<br>– 查询1111课程的平均分/最低分/最高分/选课人数/考试人数<br>select avg(score) from tb_score where cid=1111;<br>select min(score) from tb_score where cid=1111;<br>select max(score) from tb_score where cid=1111;<br>select count(sid) from tb_score where cid=1111;<br>select count(score) from tb_score where cid=1111;</p>
<p>– 查询男女学生的人数(分组和聚合函数)<br>select if(stusex, ‘男’, ‘女’) as 性别, count(stusex) as 人数<br>from tb_student group by stusex order by 人数 desc;</p>
<p>– 查询学号为1001的学生所有课程的总成绩(筛选和聚合函数)<br>select sum(score) as 总成绩 from tb_score where sid=1001;</p>
<p>– 查询每个学生的学号和平均成绩(分组和聚合函数)<br>select sid as 学号, avg(score) as 平均分 from tb_score<br>where score is not null<br>group by sid<br>order by 平均分 desc;</p>
<p>– 查询平均成绩大于等于80分的学生的学号和平均成绩(分组后的筛选)<br>select sid as 学号, avg(score) as 平均分 from tb_score<br>group by sid having 平均分&gt;=80<br>order by 平均分 desc;</p>
<p>– 查询年龄最大的学生的姓名(子查询)<br>select stuname from tb_student<br>where stubirth=(select min(stubirth) from tb_student);</p>
<p>– 查询选了三门及以上的课程的学生姓名(子查询/分组条件/集合运算)<br>select stuname from tb_student where stuid in<br>(select sid from tb_score group by sid having count(sid)&gt;=3);</p>
<p>– 查询课程名称、学分、授课老师的名字和职称<br>select cname, ccredit, tname, ttitle<br>from tb_course, tb_teacher<br>where tid=teacherid;</p>
<p>select cname, ccredit, tname, ttitle from tb_course<br>inner join tb_teacher on tid=teacherid;</p>
<p>– 查询学生姓名和所在学院名称<br>select stuname, collname<br>from tb_student t1, tb_college t2<br>where t1.collid=t2.collid;</p>
<p>select stuname, collname from tb_student t1<br>inner join tb_college t2 on t1.collid=t2.collid;</p>
<p>– 查询学生姓名、课程名称以及考试成绩<br>select stuname, cname, score<br>from tb_student, tb_course, tb_score<br>where stuid=sid and courseid=cid<br>and score is not null;</p>
<p>select stuname, cname, score from tb_student<br>inner join tb_score on stuid=sid<br>inner join tb_course on courseid=cid<br>where score is not null;</p>
<p>– 查询选课学生的姓名和平均成绩(子查询和连接查询)<br>select stuname, avgscore from tb_student,<br>(select sid, avg(score) as avgscore from tb_score<br>group by sid) temp where sid=stuid;</p>
<p>select stuname, avgscore from tb_student<br>inner join (select sid, avg(score) as avgscore<br>from tb_score group by sid) temp on sid=stuid;</p>
<p>– 查询每个学生的姓名和选课数量(左外连接和子查询)<br>select stuname as 姓名, ifnull(total, 0) as 选课数量<br>from tb_student left outer join (select sid, count(sid) as total<br>from tb_score group by sid) temp on stuid=sid;<br>DCL</p>
<p>– 创建名为hellokitty的用户<br>create user ‘hellokitty‘@’localhost’ identified by ‘123123’;</p>
<p>– 将对SRS数据库所有对象的所有操作权限授予hellokitty<br>grant all privileges on SRS.* to ‘hellokitty‘@’localhost’;</p>
<p>– 召回hellokitty对SRS数据库所有对象的insert/delete/update权限<br>revoke insert, delete, update on SRS.* from ‘hellokitty‘@’localhost’;<br>相关知识</p>
<p>范式理论</p>
<p>数据完整性</p>
<p>实体完整性 - 每个实体都是独一无二的<br>主键 / 唯一约束 / 唯一索引<br>引用完整性（参照完整性）<br>外键<br>域完整性 - 数据是有效的<br>数据类型<br>非空约束<br>默认值约束<br>检查约束<br>Python数据库编程</p>
<p>MySQLdb<br>PyMySQL</p>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2018/12/21/关系型数据库Mysql/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2018/12/21/关系型数据库Mysql/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
                <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
